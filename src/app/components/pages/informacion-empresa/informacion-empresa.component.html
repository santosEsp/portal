<app-navbar>
</app-navbar>
<!-- start page main wrapper -->

<div id="main-wrapper" class="ocultarScrollV">
    <div class="row">
        <div class="col-lg-5 col-xl-3">
            <div class="card-white grid-margin scroll">

                <div *ngIf="ruta.tipo=='empresa'">
                    <button type="button" class="btn btnRegresa ml-n1 mt-3" [routerLink]="['/empresas']"><svg width="1em" height=".8em"
                    viewBox="0 0 16 16" class="bi bi-chevron-left" fill="currentColor"
                    xmlns="http://www.w3.org/2000/svg" >
                    <path fill-rule="evenodd"
                        d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z" />
                </svg><a [routerLink]="['/empresas']" class="linkBlack "> Empresas </a>
                
                <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-building" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" d="M14.763.075A.5.5 0 0 1 15 .5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5V14h-1v1.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V10a.5.5 0 0 1 .342-.474L6 7.64V4.5a.5.5 0 0 1 .276-.447l8-4a.5.5 0 0 1 .487.022zM6 8.694L1 10.36V15h5V8.694zM7 15h2v-1.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 .5.5V15h2V1.309l-7 3.5V15z"/>
                    <path d="M2 11h1v1H2v-1zm2 0h1v1H4v-1zm-2 2h1v1H2v-1zm2 0h1v1H4v-1zm4-4h1v1H8V9zm2 0h1v1h-1V9zm-2 2h1v1H8v-1zm2 0h1v1h-1v-1zm2-2h1v1h-1V9zm0 2h1v1h-1v-1zM8 7h1v1H8V7zm2 0h1v1h-1V7zm2 0h1v1h-1V7zM8 5h1v1H8V5zm2 0h1v1h-1V5zm2 0h1v1h-1V5zm0-2h1v1h-1V3z"/>
                  </svg>

            </button>
                </div>

                <div class="card-body user-profile-card mb-3">

                    <div class="contenedor">
                        <img src="../../assets/image/grisSecundario.png" class="user-profile-image rounded-circle" alt="" />
                        <div class="centrado colorIniciales" *ngIf="ruta.tipo=='empresa'">{{unaEmpresa.nombre | slice:0:2 | uppercase}}</div>
                    </div>


                    <div *ngIf="ruta.tipo=='empresa'">
                        <h4 class="text-center h6 mt-2">{{unaEmpresa.nombre}}</h4>
                        <p class="text-center small"> {{unaEmpresa.pagina_corporativa}}</p>
                    </div>

                    <!--Botones que se muestran abajo del contacto o empresa-->
                    <!-- Boton 1 crear Notas-->
                    <button type="button" data-toggle="mensaje" title="Crear nota" class="btn estilosBotonesHover estilosBotones paddingButtons circular" data-toggle="modal" data-target="#modalNotaEmpresa" data-whatever="@mdo">
                        <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-pencil-square"
                            fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456l-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z" />
                            <path fill-rule="evenodd"
                                d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z" />
                        </svg>  
                    </button>

                    <!--Boton 2: Enviar correo -->
                    <button type="button" class="btn estilosBotonesHover estilosBotones paddingButtons circular" data-target="#" data-toggle="modal" title="Enviar correo">
                        <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-envelope" fill="currentColor"
                            xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd"
                                d="M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1H2zm13 2.383l-4.758 2.855L15 11.114v-5.73zm-.034 6.878L9.271 8.82 8 9.583 6.728 8.82l-5.694 3.44A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.739zM1 11.114l4.758-2.876L1 5.383v5.73z" />
                        </svg>
                    </button>

                    <!--Boton 3: Programar reunion -->
                    <button type="button" class="btn estilosBotonesHover estilosBotones paddingButtons circular" data-target="#moda" data-toggle="modal" title="Programar reunion">
                        <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-calendar2-plus" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM2 2a1 1 0 0 0-1 1v11a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1H2z"/>
                            <path d="M2.5 4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5H3a.5.5 0 0 1-.5-.5V4z"/>
                            <path fill-rule="evenodd" d="M8 8a.5.5 0 0 1 .5.5V10H10a.5.5 0 0 1 0 1H8.5v1.5a.5.5 0 0 1-1 0V11H6a.5.5 0 0 1 0-1h1.5V8.5A.5.5 0 0 1 8 8z"/>
                          </svg>
                    </button>



                    <!--Boton 5: Lista de acciones  -->
                    <button type="button" class="btn estilosBotonesHover estilosBotones paddingButtons circular dropdown" title="Registrar Reunión" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" title="Registrar reunión">
                        <svg width="1.5em" height="1.5em" viewBox="0 0 16 16" class="bi bi-plus" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
                          </svg>
                    </button>

                    <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                        <button type="button" class="list-group-item list-group-item-action  estilosBotonesHover" data-target="#modalReunionEmpresa" data-toggle="modal"><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-calendar2-plus" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM2 2a1 1 0 0 0-1 1v11a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1H2z"/>
                            <path d="M2.5 4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5H3a.5.5 0 0 1-.5-.5V4z"/>
                            <path fill-rule="evenodd" d="M8 8a.5.5 0 0 1 .5.5V10H10a.5.5 0 0 1 0 1H8.5v1.5a.5.5 0 0 1-1 0V11H6a.5.5 0 0 1 0-1h1.5V8.5A.5.5 0 0 1 8 8z"/>
                          </svg>&nbsp;
                           Registrar una reunión
                        </button>
                        <button type="button" class="list-group-item list-group-item-action  estilosBotonesHover" data-target="#modalLlamadaEmpresa" data-toggle="modal"><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-telephone-plus" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" d="M3.654 1.328a.678.678 0 0 0-1.015-.063L1.605 2.3c-.483.484-.661 1.169-.45 1.77a17.568 17.568 0 0 0 4.168 6.608 17.569 17.569 0 0 0 6.608 4.168c.601.211 1.286.033 1.77-.45l1.034-1.034a.678.678 0 0 0-.063-1.015l-2.307-1.794a.678.678 0 0 0-.58-.122l-2.19.547a1.745 1.745 0 0 1-1.657-.459L5.482 8.062a1.745 1.745 0 0 1-.46-1.657l.548-2.19a.678.678 0 0 0-.122-.58L3.654 1.328zM1.884.511a1.745 1.745 0 0 1 2.612.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.678.678 0 0 0 .178.643l2.457 2.457a.678.678 0 0 0 .644.178l2.189-.547a1.745 1.745 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.634 18.634 0 0 1-7.01-4.42 18.634 18.634 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877L1.885.511zM12.5 1a.5.5 0 0 1 .5.5V3h1.5a.5.5 0 0 1 0 1H13v1.5a.5.5 0 0 1-1 0V4h-1.5a.5.5 0 0 1 0-1H12V1.5a.5.5 0 0 1 .5-.5z"/>
                          </svg>&nbsp;
                          Registrar una llamada
                        </button>
                        <button type="button" class="list-group-item list-group-item-action estilosBotonesHover " data-target="#modalCorreoEmpresa" data-toggle="modal"><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-envelope" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" d="M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1H2zm13 2.383l-4.758 2.855L15 11.114v-5.73zm-.034 6.878L9.271 8.82 8 9.583 6.728 8.82l-5.694 3.44A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.739zM1 11.114l4.758-2.876L1 5.383v5.73z"/>
                          </svg>&nbsp; Registrar un correo</button>
                    </div>

                </div>
                <hr size="8px" color="gray" />

                <div *ngIf="ruta.tipo=='empresa'">
                    <h6 class="ml-3">Acerca de esta empresa</h6>
                    <table class="table table-hover mb-0 ml-3 mt-3">
                        <tbody>
                            <tr>
                                <td><small class="text-muted">Nombre</small><br>{{unaEmpresa.nombre}} </td>
                            </tr>
                            <tr>
                                <td><small class="text-muted">Propietario de registro</small><br> {{nombrePropietarioEmpresa.nombre}}</td>
                            </tr>
                            <tr>
                                <td><small class="text-muted">Industria</small><br>{{unaEmpresa.industria}}</td>
                            </tr>
                            <tr>
                                <td><small class="text-muted">Número de teléfono</small><br>{{unaEmpresa.no_telefono}}</td>
                            </tr>
                            <tr>
                                <td><small class="text-muted">Tipo</small><br> {{unaEmpresa.tipo_cliente}}</td>
                            </tr>
                            <tr>
                                <td><small class="text-muted">Ciudad</small><br>{{unaEmpresa.ciudad}}</td>
                            </tr>
                            <tr>
                                <td><small class="text-muted">Estado o región</small><br>{{unaEmpresa.estado_region}}</td>
                            </tr>
                            <tr>
                                <td><small class="text-muted">Código postal</small><br>{{unaEmpresa.codigo_postal}}</td>
                            </tr>
                            <tr>
                                <td><small class="text-muted">Número de empleados</small><br>{{unaEmpresa.no_empleados}}</td>
                            </tr>
                            <tr>
                                <td><small class="text-muted">Ingresos anuales</small><br>{{unaEmpresa.ingresos_anuales |currency}}</td>
                            </tr>
                            <tr>
                                <td><small class="text-muted">Zona horaria</small><br>{{unaEmpresa.zona_horaria}}</td>
                            </tr>
                            <tr>
                                <td><small class="text-muted">Descripción</small><br>{{unaEmpresa.descripcion}}</td>
                            </tr>
                            <tr>
                                <td><small class="text-muted">Página corporativa</small><br>{{unaEmpresa.pagina_corporativa}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!--Aqui termina la seccion de informacion de contacto-->

        <!--Aqui empieza la segunda sección
        -------->

        <div class="col-lg-7 col-xl-6 scroll">

            <ul class="nav nav-tabs mb-0 mt-3 nav-justified" id="myTab" role="tablist">
                <li class="nav-item" role="presentation">
                    <a class="nav-link active" id="actividades-tab" data-toggle="tab" href="#actividades" role="tab" aria-controls="profile" aria-selected="false">Actividades</a>
                </li>
                <li class="nav-item" role="presentation">
                    <a class="nav-link" id="notas-tab" data-toggle="tab" href="#notas" role="tab" aria-controls="profile" aria-selected="false">Notas</a>
                </li>
                <li class="nav-item" role="presentation">
                    <a class="nav-link" id="correos-tab" data-toggle="tab" href="#correos" role="tab" aria-controls="profile" aria-selected="false">Correos</a>
                </li>
                <li class="nav-item" role="presentation">
                    <a class="nav-link" id="llamadas-tab" data-toggle="tab" href="#llamadas" role="tab" aria-controls="profile" aria-selected="false">Llamadas</a>
                </li>
                <li class="nav-item" role="presentation">
                    <a class="nav-link" id="reuniones-tab" data-toggle="tab" href="#reuniones" role="tab" aria-controls="profile" aria-selected="false">Reuniones</a>
                </li>
            </ul>

            <div class="tab-content " id="myTabContent" *ngIf="ruta.tipo=='empresa'">
                <div class="tab-pane fade show active" id="actividades" role="tabpanel" aria-labelledby="actividades-tab">
                    <div class="card mt-4 cardColorBorde">
                        <div class="card-header grisSecundario">
                            <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-person-check-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" d="M1 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H1zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm9.854-2.854a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L12.5 7.793l2.646-2.647a.5.5 0 0 1 .708 0z"/>
                      </svg> &nbsp; Empresa creada
                            <div class="float-right">
                                {{unaEmpresa.createdAt | date}}
                            </div>
                        </div>
                        <div class="card-body">
                            <blockquote class="blockquote mb-0">
                                <p>Nombre: {{unaEmpresa.nombre}}, pagina: {{unaEmpresa.pagina_corporativa}}</p>
                                <footer class="blockquote-footer"> Se ha creado la empresa con <cite title="Source Title">CRM de ClickSoft</cite></footer>
                            </blockquote>
                        </div>
                    </div>
                </div>
                <!---------------------------------Tab 2 B--------------------------
            ------------------------------------------------------------------>

                <div class="tab-pane fade  active" id="notas" role="tabpanel" aria-labelledby="notas-tab">


                    <div class="row mt-3" *ngIf="notasEmpresa.length == 0">
                        <div class="col-md-12">
                            <div class="alert alert-secondary" role="alert">
                                <svg width="3em" height="3em" viewBox="0 0 16 16" class="bi bi-info-circle" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                    <path fill-rule="evenodd" d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                                    <path d="M8.93 6.588l-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588z"/>
                                    <circle cx="8" cy="4.5" r="1"/>
                                  </svg> &nbsp;&nbsp; No hay notas registradas para esta empresa , empieza a crearlas y aparecerán aquí
                            </div>
                        </div>
                    </div>

                    <div class="card mt-4 cardColorBorde" *ngFor="let notasEmp of notasEmpresa">
                        <div class="card-header grisSecundario ">
                            <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-stickies-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M0 1.5A1.5 1.5 0 0 1 1.5 0H13a1 1 0 0 1 1 1H1.5a.5.5 0 0 0-.5.5V14a1 1 0 0 1-1-1V1.5z"/>
                                <path fill-rule="evenodd" d="M3.5 2A1.5 1.5 0 0 0 2 3.5v11A1.5 1.5 0 0 0 3.5 16h6.086a1.5 1.5 0 0 0 1.06-.44l4.915-4.914A1.5 1.5 0 0 0 16 9.586V3.5A1.5 1.5 0 0 0 14.5 2h-11zm6 8.5v4.396c0 .223.27.335.427.177l5.146-5.146a.25.25 0 0 0-.177-.427H10.5a1 1 0 0 0-1 1z"/>
                              </svg>&nbsp; Nota registrada

                            <div class="float-right">
                                {{notasEmp.createdAt | date}}
                            </div>
                        </div>
                        <div class="card-body">
                            <blockquote class="blockquote mb-0">
                                <p><small class="text-muted">Descripción: </small><br>{{notasEmp.comentario}}</p>
                            </blockquote>
                        </div>
                    </div>
                </div>
                <!---------------------------------Tab 3 B--------------------------
            ------------------------------------------------------------------>

                <div class="tab-pane fade active" id="correos" role="tabpanel" aria-labelledby="correos-tab">


                    <div class="row mt-3" *ngIf="correosEmpresa.length == 0">
                        <div class="col-md-12">
                            <div class="alert alert-secondary" role="alert">
                                <svg width="3em" height="3em" viewBox="0 0 16 16" class="bi bi-info-circle" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                    <path fill-rule="evenodd" d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                                    <path d="M8.93 6.588l-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588z"/>
                                    <circle cx="8" cy="4.5" r="1"/>
                                  </svg> &nbsp;&nbsp; No hay correos registrados para esta empresa, empieza a crearlos y aparecerán aquí
                            </div>
                        </div>
                    </div>

                    <div class="card mt-4 cardColorBorde" *ngFor="let correos of correosEmpresa">
                        <div class="card-header grisSecundario ">
                            <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-calendar-check-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M4 .5a.5.5 0 0 0-1 0V1H2a2 2 0 0 0-2 2v1h16V3a2 2 0 0 0-2-2h-1V.5a.5.5 0 0 0-1 0V1H4V.5zM16 14V5H0v9a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2zm-5.146-5.146a.5.5 0 0 0-.708-.708L7.5 10.793 6.354 9.646a.5.5 0 1 0-.708.708l1.5 1.5a.5.5 0 0 0 .708 0l3-3z"/>
                            </svg>&nbsp; Correo registrado

                            <div class="float-right">
                                {{correos.createdAt | date}}
                            </div>
                        </div>

                        <div class="card-body">
                            <blockquote class="blockquote mb-0">

                                <table class="table table-borderless">
                                    <tbody>
                                        <tr>
                                            <td><small class="text-muted">Contactado: </small><br>{{unaEmpresa.nombre}} </td>
                                            <td><small class="text-muted">Hora: </small><br>{{correos.hora !!}}</td>
                                        </tr>
                                        <tr>
                                            <td><small class="text-muted ">Descripción: </small><br>{{correos.descripcion}}</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </blockquote>
                        </div>
                    </div>
                </div>

                <!---------------------------------Tab 4 --------------------------
            ------------------------------------------------------------------>

                <div class="tab-pane fade  active" id="llamadas" role="tabpanel" aria-labelledby="llamadas-tab">

                    <div class="row mt-3" *ngIf="llamadasEmpresa.length == 0">
                        <div class="col-md-12">
                            <div class="alert alert-secondary" role="alert">
                                <svg width="3em" height="3em" viewBox="0 0 16 16" class="bi bi-info-circle" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                    <path fill-rule="evenodd" d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                                    <path d="M8.93 6.588l-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588z"/>
                                    <circle cx="8" cy="4.5" r="1"/>
                                  </svg> &nbsp;&nbsp; No hay llamadas registradas para esta empresa, empieza a crearlos y aparecerán aquí
                            </div>
                        </div>
                    </div>

                    <div class="card mt-4 cardColorBorde" *ngFor="let llamadas of llamadasEmpresa">
                        <div class="card-header grisSecundario ">
                            <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-calendar-check-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M4 .5a.5.5 0 0 0-1 0V1H2a2 2 0 0 0-2 2v1h16V3a2 2 0 0 0-2-2h-1V.5a.5.5 0 0 0-1 0V1H4V.5zM16 14V5H0v9a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2zm-5.146-5.146a.5.5 0 0 0-.708-.708L7.5 10.793 6.354 9.646a.5.5 0 1 0-.708.708l1.5 1.5a.5.5 0 0 0 .708 0l3-3z"/>
                            </svg>&nbsp; Llamada registrada

                            <div class="float-right">
                                {{llamadas.createdAt | date}}
                            </div>
                        </div>
                        <div class="card-body">
                            <blockquote class="blockquote mb-0">

                                <table class="table table-borderless">
                                    <tbody>
                                        <tr>
                                            <td><small class="text-muted">Contactado: </small><br>{{unaEmpresa.nombre}}</td>
                                            <td><small class="text-muted">Resultado de la llamada: </small><br>{{llamadas.resultado_llamada}}</td>
                                        </tr>
                                        <tr>
                                            <td><small class="text-muted ">Fecha: </small><br>{{llamadas.fecha}}</td>
                                            <td><small class="text-muted ">Hora: </small><br>{{llamadas.hora}}</td>
                                        </tr>
                                        <tr>
                                            <td><small class="text-muted ">Descripción: </small><br>{{llamadas.descripcion}}</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </blockquote>
                        </div>
                    </div>
                </div>
                <!---------------------------------Tab 5 --------------------------
            ------------------------------------------------------------------>
                <div class="tab-pane fade active" id="reuniones" role="tabpanel" aria-labelledby="reuniones-tab">

                    <div class="row mt-3" *ngIf="ReunionesEmpresa.length == 0">
                        <div class="col-md-12">
                            <div class="alert alert-secondary" role="alert">
                                <svg width="3em" height="3em" viewBox="0 0 16 16" class="bi bi-info-circle" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                    <path fill-rule="evenodd" d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                                    <path d="M8.93 6.588l-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588z"/>
                                    <circle cx="8" cy="4.5" r="1"/>
                                  </svg> &nbsp;&nbsp; No hay reuniones registrados para esta empresa, empieza a crearlos y aparecerán aquí
                            </div>
                        </div>
                    </div>

                    <div class="card mt-4 cardColorBorde" *ngFor="let reuniones of ReunionesEmpresa">
                        <div class="card-header grisSecundario ">
                            <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-calendar-check-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M4 .5a.5.5 0 0 0-1 0V1H2a2 2 0 0 0-2 2v1h16V3a2 2 0 0 0-2-2h-1V.5a.5.5 0 0 0-1 0V1H4V.5zM16 14V5H0v9a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2zm-5.146-5.146a.5.5 0 0 0-.708-.708L7.5 10.793 6.354 9.646a.5.5 0 1 0-.708.708l1.5 1.5a.5.5 0 0 0 .708 0l3-3z"/>
                            </svg>&nbsp; Reunión registrado

                            <div class="float-right">
                                {{reuniones.createdAt |date}}
                            </div>
                        </div>
                        <div class="card-body">
                            <blockquote class="blockquote mb-0">

                                <table class="table table-borderless">
                                    <tbody>
                                        <tr>
                                            <td><small class="text-muted">Asistente: </small><br>{{unaEmpresa.nombre}}</td>
                                            <td><small class="text-muted">Resultado: </small><br>{{reuniones.resultado}}</td>
                                            <td><small class="text-muted">Fecha: </small><br>{{reuniones.fecha}}</td>
                                        </tr>

                                        <tr>
                                            <td><small class="text-muted">Hora: </small><br>{{reuniones.hora}}</td>
                                            <td><small class="text-muted ">Duración: </small><br>{{reuniones.duracion}}</td>
                                        </tr>
                                        <tr>
                                            <td><small class="text-muted ">Descripción: </small><br>{{reuniones.descripcion}}</td>
                                        </tr>
                                    </tbody>
                                </table>

                            </blockquote>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!--Tercera sección
    -----------------------------------------------------------
    --------------------------------------------------------------->
        <div class="col-lg-12 col-xl-3 scroll">

            <!--EMPRESAS ----Contactos relacionados de empresas-->

            <div *ngIf="ruta.tipo=='empresa'">
                <label class="ml-4" style="font-weight: 500;">Contactos</label>

                <div>
                    <div class="card block mt-2" *ngFor="let contactos of listaContactosRelacionados">
                        <div class="card-body">
                            <h5 class="card-title"><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-person-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
                              </svg> {{contactos.nombre}} {{contactos.apellido}}</h5>
                            <div class="dropdown-divider"></div>
                            <p class="card-text"><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-envelope" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" d="M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1H2zm13 2.383l-4.758 2.855L15 11.114v-5.73zm-.034 6.878L9.271 8.82 8 9.583 6.728 8.82l-5.694 3.44A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.739zM1 11.114l4.758-2.876L1 5.383v5.73z"/>
                          </svg>&nbsp;&nbsp;{{contactos.email}}
                                <br><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-telephone-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" d="M2.267.98a1.636 1.636 0 0 1 2.448.152l1.681 2.162c.309.396.418.913.296 1.4l-.513 2.053a.636.636 0 0 0 .167.604L8.65 9.654a.636.636 0 0 0 .604.167l2.052-.513a1.636 1.636 0 0 1 1.401.296l2.162 1.681c.777.604.849 1.753.153 2.448l-.97.97c-.693.693-1.73.998-2.697.658a17.47 17.47 0 0 1-6.571-4.144A17.47 17.47 0 0 1 .639 4.646c-.34-.967-.035-2.004.658-2.698l.97-.969z"/>
                            </svg>&nbsp;&nbsp;{{contactos.telefono}}
                                <br><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-globe" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm7.5-6.923c-.67.204-1.335.82-1.887 1.855A7.97 7.97 0 0 0 5.145 4H7.5V1.077zM4.09 4H2.255a7.025 7.025 0 0 1 3.072-2.472 6.7 6.7 0 0 0-.597.933c-.247.464-.462.98-.64 1.539zm-.582 3.5h-2.49c.062-.89.291-1.733.656-2.5H3.82a13.652 13.652 0 0 0-.312 2.5zM4.847 5H7.5v2.5H4.51A12.5 12.5 0 0 1 4.846 5zM8.5 5v2.5h2.99a12.495 12.495 0 0 0-.337-2.5H8.5zM4.51 8.5H7.5V11H4.847a12.5 12.5 0 0 1-.338-2.5zm3.99 0V11h2.653c.187-.765.306-1.608.338-2.5H8.5zM5.145 12H7.5v2.923c-.67-.204-1.335-.82-1.887-1.855A7.97 7.97 0 0 1 5.145 12zm.182 2.472a6.696 6.696 0 0 1-.597-.933A9.268 9.268 0 0 1 4.09 12H2.255a7.024 7.024 0 0 0 3.072 2.472zM3.82 11H1.674a6.958 6.958 0 0 1-.656-2.5h2.49c.03.877.138 1.718.312 2.5zm6.853 3.472A7.024 7.024 0 0 0 13.745 12H11.91a9.27 9.27 0 0 1-.64 1.539 6.688 6.688 0 0 1-.597.933zM8.5 12h2.355a7.967 7.967 0 0 1-.468 1.068c-.552 1.035-1.218 1.65-1.887 1.855V12zm3.68-1h2.146c.365-.767.594-1.61.656-2.5h-2.49a13.65 13.65 0 0 1-.312 2.5zm2.802-3.5h-2.49A13.65 13.65 0 0 0 12.18 5h2.146c.365.767.594 1.61.656 2.5zM11.27 2.461c.247.464.462.98.64 1.539h1.835a7.024 7.024 0 0 0-3.072-2.472c.218.284.418.598.597.933zM10.855 4H8.5V1.077c.67.204 1.335.82 1.887 1.855.173.324.33.682.468 1.068z"/>
                          </svg>&nbsp;&nbsp;{{contactos.departamento}}</p>
                        </div>
                    </div>
                </div>
                <!--NEGOCIOS DE EMPRESAS-->
                <hr *ngIf="ruta.tipo=='empresa'">
                <!--Negocios para contactos-->
                <div class="d-flex justify-content-between">
                    <label class="ml-4 " style="font-weight: 500;">Negocios</label>

                    <a href="#" class="margenLink mr-1" *ngIf="ruta.tipo=='empresa'" data-toggle="modal" data-target="#modalNegocioEmpresa">
                        <svg width="1.2em" height="1.2em" viewBox="0 0 16 16" class="bi bi-plus" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd"
                        d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z" />
                </svg>Agregar negocio</a>
                </div>
                <!--Tarjetas de los negocios-->
                <div class="card block mt-2" *ngFor="let negocio of negociosEmpresa">
                    <div class="card-body">
                        <h5 class="card-title"><i class="far fa-handshake"></i> {{negocio.nombre_negocio}}</h5>
                        <p class="card-text"><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-arrow-repeat" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
            <path d="M11.534 7h3.932a.25.25 0 0 1 .192.41l-1.966 2.36a.25.25 0 0 1-.384 0l-1.966-2.36a.25.25 0 0 1 .192-.41zm-11 2h3.932a.25.25 0 0 0 .192-.41L2.692 6.23a.25.25 0 0 0-.384 0L.342 8.59A.25.25 0 0 0 .534 9z"/>
            <path fill-rule="evenodd" d="M8 3c-1.552 0-2.94.707-3.857 1.818a.5.5 0 1 1-.771-.636A6.002 6.002 0 0 1 13.917 7H12.9A5.002 5.002 0 0 0 8 3zM3.1 9a5.002 5.002 0 0 0 8.757 2.182.5.5 0 1 1 .771.636A6.002 6.002 0 0 1 2.083 9H3.1z"/>
          </svg>&nbsp;&nbsp;{{negocio.Etapa}}
                            <br><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-arrow-bar-right" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" d="M6 8a.5.5 0 0 0 .5.5h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L12.293 7.5H6.5A.5.5 0 0 0 6 8zm-2.5 7a.5.5 0 0 1-.5-.5v-13a.5.5 0 0 1 1 0v13a.5.5 0 0 1-.5.5z"/>
              </svg>&nbsp;&nbsp;{{negocio.pipeline}}

                            <br><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-wallet2" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" d="M12.136.326A1.5 1.5 0 0 1 14 1.78V3h.5A1.5 1.5 0 0 1 16 4.5v9a1.5 1.5 0 0 1-1.5 1.5h-13A1.5 1.5 0 0 1 0 13.5v-9a1.5 1.5 0 0 1 1.432-1.499L12.136.326zM5.562 3H13V1.78a.5.5 0 0 0-.621-.484L5.562 3zM1.5 4a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5h-13z"/>
              </svg>&nbsp;&nbsp;{{ negocio.cantidad | currency:'$' }}

                            <br><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-calendar2-check" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM2 2a1 1 0 0 0-1 1v11a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1H2z"/>
                <path d="M2.5 4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5H3a.5.5 0 0 1-.5-.5V4z"/>
                <path fill-rule="evenodd" d="M10.854 8.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708 0z"/>
              </svg>&nbsp;&nbsp; Concluye: {{ negocio.fcierre | date }}
                        </p>
                        <div class="float-sm-right text-sm-right">
                            <a href="#" (click)="eliminarNegocio(negocio)" data-toggle="modal" data-target="evitaRedirigir">Eliminar</a>&nbsp;&nbsp;
                            <a href="#" (click)="cargarInfoAlForm(negocio)" data-toggle="modal" data-target="#modalEditarNegocio">Editar</a>
                        </div>
                    </div>
                </div>

            </div>
            <!-- Row -->
        </div>
        <!-- end page main wrapper -->


        <!-- Inicio de formularios modales para empresas .----------------------------------------------------------------------
-------------------------------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------------------------------->


        <div class="modal fade text-left" data-backdrop="static" data-keyboard="false" id="modalNotaEmpresa" tabindex="-1" role="dialog" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header bgCorp">
                        <h5 class="modal-title text-white" id="exampleModalLabel">
                            Nota
                        </h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                            <span aria-hidden="true">&times;</span>
                                        </button>
                    </div>
                    <div class="modal-body">
                        <form (ngSubmit)="registrarNota(f)" #f="ngForm">

                            <div class="form-group">
                                <label for="recipient-name" class="col-form-label">Descripción de la
                                                    nota</label>
                                <hr>
                                <small *ngIf="f.submitted && f.controls['descripcion'].errors" class="text-danger">
                                                    Campo obligatorio
                                                </small>

                                <textarea class="form-control" id="message-text" rows="5" id="nota" name="descripcion" [(ngModel)]="notaEmpresa.comentario" required></textarea>
                            </div>

                            <div class="modal-footer">
                                <button type="submit" class="btn estilosBotonesHover estilosBotones">
                                                    Guardar
                                                </button>
                                <button type="button" class="btn estilosBotonesHover estilosBotones" data-dismiss="modal">
                                                    Cancelar
                                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <!--fin del formulario modal nota-->

        <!--Inicio del formulario modal Correo-->
        <div class="modal fade" data-backdrop="static" data-keyboard="false" id="modalCorreoEmpresa" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-lg" role="document">
                <div class="modal-content">
                    <div class="modal-header bgCorp">
                        <h5 class="modal-title text-white" id="exampleModalLabel">
                            Registrar correo
                        </h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
                    </div>
                    <div class="modal-body">
                        <form (ngSubmit)="registrarCorreo(fCorreo)" #fCorreo="ngForm">
                            <div class="form-group">
                                <table class="table table-borderless table-responsive ">
                                    <tbody>

                                        <tr>
                                            <td>
                                                <label class="col-form-label">Contactado</label>

                                                <input type="text" name="apellido" class="form-control" placeholder="{{unaEmpresa.nombre}}" disabled>
                                            </td>
                                            <td>
                                                <label class="col-form-label">Fecha</label>
                                                <input class="form-control" type="date" value="{{ fecha | date: 'yyyy-MM-dd' }}" id="fechaCorreo" name="fechaCorreo" [(ngModel)]="correoEmpresa.fecha" required />

                                                <small *ngIf="fCorreo.submitted && fCorreo.controls['fechaCorreo'].errors" class="text-danger">
                                                    Campo obligatorio
                                                </small>
                                            </td>
                                            <td>

                                                <label class="col-form-label">Hora</label>
                                                <input class="form-control" type="time" value="00:00:00" id="horaCorreo" name="horaCorreo" [(ngModel)]="correoEmpresa.hora" required />

                                                <small *ngIf="fCorreo.submitted && fCorreo.controls['horaCorreo'].errors " class="text-danger">
                                                    Campo obligatorio
                                                </small>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                                <hr />

                                <small *ngIf="fCorreo.submitted && fCorreo.controls['descripcionCorreo'].errors" class="text-danger">
                            Campo obligatorio
                        </small>

                                <textarea class="form-control" id="exampleFormControlTextarea1" rows="5" placeholder="Descripción del correo" name="descripcionCorreo" [(ngModel)]="correoEmpresa.descripcion" required>
                        </textarea>

                                <div class="modal-footer">
                                    <button type="submit" class="btn estilosBotonesHover estilosBotones">
                                Guardar
                            </button>
                                    <button type="button" class="btn estilosBotonesHover estilosBotones" data-dismiss="modal">
                                Cancelar
                            </button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <!--fin del formulario modal Correo -->

        <!--Inicio modal llamada-->

        <div class="modal fade" data-backdrop="static" data-keyboard="false" id="modalLlamadaEmpresa" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-lg" role="document">
                <div class="modal-content">
                    <div class="modal-header bgCorp">

                        <h5 class="modal-title text-white" id="exampleModalLabel">
                            Registrar llamada
                        </h5>


                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
                    </div>


                    <div class="modal-body">
                        <form (ngSubmit)="registrarLlamada(fLlamada)" #fLlamada="ngForm">
                            <div class="form-group">
                                <table class="table table-borderless text-left table-responsive">
                                    <tbody>
                                        <tr>
                                            <td>
                                                <label class="col-form-label">Contactado</label>
                                                <input type="text" name="apellido" class="form-control" placeholder="{{unaEmpresa.nombre}}" disabled>

                                            </td>
                                            <td>
                                                <label class="col-form-label">Resultado de la llamada</label>



                                                <select class="form-control" id="sel2" name="resultadoLlamada" required [(ngModel)]="llamadaEmpresa.resultado_llamada">
                                            <option value="" disabled selected>Selecciona una opción</option>
                                                    <option>Ocupado</option>
                                                    <option>Conectado</option>
                                                    <option>Sin respuesta</option>
                                                </select>

                                                <small *ngIf=" fLlamada.submitted &&fLlamada.controls['resultadoLlamada'].errors" class="text-danger">
                                                    Campo obligatorio
                                                </small>

                                            </td>


                                            <td>
                                                <label class="col-form-label">Fecha</label>



                                                <input class="form-control" type="date" value="{{ fecha | date: 'yyyy-MM-dd' }}" id="fechaLlamada" name="fechaLlamada" required [(ngModel)]="llamadaEmpresa.fecha" />

                                                <small *ngIf="fLlamada.submitted && fLlamada.controls['fechaLlamada'].errors " class="text-danger">
                                                    Campo obligatorio
                                                </small>

                                            </td>
                                            <td>
                                                <label class="col-form-label">Hora</label>


                                                <input class="form-control" type="time" value="00:00:00" id="horaLlamada" name="horaLlamada" required [(ngModel)]="llamadaEmpresa.hora" />

                                                <small *ngIf="fLlamada.submitted && fLlamada.controls['horaLlamada'].errors " class="text-danger">
                                                    Campo obligatorio
                                                </small>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                                <hr />

                                <div>
                                    <small *ngIf="fLlamada.submitted && fLlamada.controls['descripcionLlamada'].errors" class="text-danger">
                                Campo obligatorio
                            </small>

                                    <textarea class="form-control" id="descripcionLlamada" rows="5" cols="20" placeholder="Descripción de la llamada" name="descripcionLlamada" required [(ngModel)]="llamadaEmpresa.descripcion"></textarea>
                                </div>

                                <div class="modal-footer">
                                    <button type="submit" class="btn estilosBotones estilosBotonesHover">Crear</button>
                                    <button type="submit" class="btn estilosBotones estilosBotonesHover">Crear y agregar
                                otra</button>
                                    <button type="button" class="btn estilosBotonesHover estilosBotones" data-dismiss="modal">
                                Cancelar
                            </button>
                                </div>
                            </div>
                        </form>

                    </div>
                </div>
            </div>
        </div>

        <!--Fin modal Llamada-->

        <!--Inicio del formulario modal Registrar Reunion-->
        <div class="modal fade" data-backdrop="static" data-keyboard="false" id="modalReunionEmpresa" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-lg" role="document">
                <div class="modal-content">
                    <div class="modal-header bgCorp">
                        <h5 class="modal-title text-white" id="exampleModalLabel">
                            Registrar reunión
                        </h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
                    </div>
                    <div class="modal-body">
                        <form (ngSubmit)="registrarReunion(fReunion)" #fReunion="ngForm">
                            <div class="form-group">
                                <table class="table table-borderless table-responsive">
                                    <tbody>
                                        <tr>
                                            <td>
                                                <label>Asistente</label>
                                                <input type="text" name="apellido" class="form-control" placeholder="{{unaEmpresa.nombre}}" disabled>
                                            </td>
                                            <td>
                                                <label>Resultado</label>

                                                <select class="form-control" id="resultadoReunion" name="resultadoReunion" required [(ngModel)]="reunionEmpresa.resultado">
                                                    <option>--Seleccione--</option>
                                                    <option>Programadas</option>
                                                    <option>Completadas</option>
                                                    <option>No asistió</option>
                                                    <option>Completadas</option>
                                                </select>

                                                <small *ngIf=" fReunion.submitted && fReunion.controls['resultadoReunion'].errors" class="text-danger">
                                                    Campo obligatorio
                                                </small>
                                            </td>

                                            <td>


                                                <label>Fecha</label>

                                                <input class="form-control" type="date" value="{{ fecha | date: 'yyyy-MM-dd' }}" id="fechaReunion" name="fechaReunion" required [(ngModel)]="reunionEmpresa.fecha" />

                                                <small *ngIf="fReunion.submitted && fReunion.controls['fechaReunion'].errors" class="text-danger">
                                                    Campo obligatorio
                                                </small>
                                            </td>
                                        </tr>

                                        <tr>
                                            <td>
                                                <label>Hora</label>

                                                <input class="form-control" type="time" value="00:00:00" id="horaReunion" name="horaReunion" required [(ngModel)]="reunionEmpresa.hora" />

                                                <small *ngIf="fReunion.submitted && fReunion.controls['horaReunion'].errors" class="text-danger">
                                                    Campo obligatorio
                                                </small>
                                            </td>

                                            <td>

                                                <label>Duración</label>

                                                <select class="form-control" id="sel4" name="duracionReunion" required [(ngModel)]="reunionEmpresa.duracion">
                                                    <option>--Seleccione--</option>
                                                    <option>15 minutos</option>
                                                    <option>30 minutos</option>
                                                    <option>45 minutos</option>
                                                    <option>1 Hora</option>
                                                </select>

                                                <small *ngIf="fReunion.submitted && fReunion.controls['duracionReunion'].errors" class="text-danger">
                                                    Campo obligatorio
                                                </small>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                                <hr />

                                <small *ngIf="fReunion.submitted && fReunion.controls['descripcionReunion'].errors " class="text-danger">
                            Campo obligatorio
                        </small>
                                <div class="form-group">

                                    <textarea class="form-control" id="descripcionReunion" rows="5" placeholder="Descripción de la reunión" name="descripcionReunion" required [(ngModel)]="reunionEmpresa.descripcion"></textarea>
                                </div>

                                <div class="modal-footer">
                                    <button type="submit" class="btn estilosBotonesHover estilosBotones">
                                Guardar
                            </button>
                                    <button type="button" class="btn estilosBotonesHover estilosBotones" data-dismiss="modal">
                                Cancelar
                            </button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <!--Fin del formulario modal Registar Reunion-->


        <!--Inicio del formulario modal Negocio-->
        <div class="modal fade" data-backdrop="static" data-keyboard="false" id="modalNegocioEmpresa" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header bgCorp">
                        <h5 class="modal-title text-white" id="exampleModalLabel">
                            Agregar negocio a esta empresa
                        </h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                    </div>
                    <div class="modal-body">
                        <form (ngSubmit)="registrarNegocio(fNegocio)" #fNegocio="ngForm">



                            <div class="form-group">
                                <label for="recipient-name" class="col-form-label">Nombre del negocio</label>
                                <input type="text" class="form-control" id="nombreNegocio" name="nombreNegocio" required [(ngModel)]="negocioEmpresa.nombre_negocio" />
                                <small class="text-danger" *ngIf="fNegocio.submitted && fNegocio.controls['nombreNegocio'].errors">Campo
                                        obligatorio</small>

                            </div>

                            <div class="form-group">

                                <label for="recipient-name" class="col-form-label">Pipeline</label>
                                <input type="text" class="form-control" id="pipeline" name="pipelineNegocio" required [(ngModel)]="negocioEmpresa.pipeline" />
                                <small class="text-danger" *ngIf="fNegocio.submitted && fNegocio.controls['pipelineNegocio'].errors">Campo
                                        obligatorio</small>
                            </div>

                            <div class="form-group">
                                <label for="recipient-name" class="col-form-label">Etapa del negocio</label>
                                <select class="form-control" id="etapa" name="etapaNegocio" [(ngModel)]="negocioEmpresa.fketapa">
                            <option  *ngFor="let etapa of etapas" [ngValue]="etapa.id_etapa">{{etapa.nombre}}</option>
                            
                        </select>

                                <small *ngIf="fNegocio.submitted && fNegocio.controls['etapaNegocio'].untouched" class="text-danger">
                            Campo obligatorio
                        </small>

                            </div>

                            <div class="form-group">

                                <label for="recipient-name" class="col-form-label">Cantidad</label>
                                <input type="text" class="form-control" id="cantidad" name="cantidadNegocio" required [(ngModel)]="negocioEmpresa.cantidad" />
                                <small class="text-danger" *ngIf="fNegocio.submitted && fNegocio.controls['cantidadNegocio'].errors">Campo
                                        obligatorio</small>

                            </div>

                            <div class="form-group">
                                <label for="recipient-name" class="col-form-label">Fecha de cierre</label>
                                <input class="form-control" type="date" value="{{ fecha | date: 'yyyy-MM-dd' }}" id="fechaCierreNegocio" name="cierreNegocio" required [(ngModel)]="negocioEmpresa.fcierre" />
                                <small *ngIf="fNegocio.submitted && fNegocio.controls['cierreNegocio'].errors " class="text-danger">
                                                    Campo obligatorio
                                                </small>
                            </div>

                            <div class="modal-footer">
                                <button type="submit" class="btn estilosBotonesHover estilosBotones">
                                        Crear
                                    </button>
                                <button type="submit" class="btn estilosBotonesHover estilosBotones">
                                        Crear y agregar otra
                                    </button>
                                <button type="button" class="btn estilosBotonesHover estilosBotones" data-dismiss="modal">
                                        Cancelar
                                    </button>
                            </div>

                        </form>
                    </div>

                </div>
            </div>
        </div>
        <!--fin del formulario modal-->



        <!--Formulario modal-->
        <!--Inicio del formulario modal Editar Negocio-->
        <div class="modal fade" data-backdrop="static" data-keyboard="false" id="modalEditarNegocio" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header bgCorp">
                        <h5 class="modal-title text-white" id="exampleModalLabel">
                            Editar negocio
                        </h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                    </div>
                    <div class="modal-body">
                        <form (ngSubmit)="actualizarNegocio(fEditarNegocio)" #fEditarNegocio="ngForm">


                            <div class="form-group">
                                <input type="hidden" class="form-control" id="idNegocio" name="idNegocio" required [(ngModel)]="editarNegocio.id_negocio" />
                            </div>

                            <div class="form-group">
                                <label for="recipient-name" class="col-form-label">Nombre del negocio</label>
                                <input type="text" class="form-control" id="nombre" name="nombreNegocio" required [(ngModel)]="editarNegocio.nombre_negocio" />
                                <small class="text-danger" *ngIf="fEditarNegocio.submitted && fEditarNegocio.controls['nombreNegocio'].errors">Campo
                                        obligatorio</small>

                            </div>

                            <div class="form-group">

                                <label for="recipient-name" class="col-form-label">Pipeline</label>
                                <input type="text" class="form-control" id="pipelineNegocio" name="pipelineNegocio" required [(ngModel)]="editarNegocio.pipeline" />
                                <small class="text-danger" *ngIf="fEditarNegocio.submitted && fEditarNegocio.controls['pipelineNegocio'].errors">Campo
                                        obligatorio</small>
                            </div>

                            <div class="form-group">
                                <label for="recipient-name" class="col-form-label">Etapa del negocio</label>
                                <select class="form-control" id="etapaNegocio" name="etapaNegocio" [(ngModel)]="editarNegocio.fketapa">
                                <option  *ngFor="let etapa of etapas" [ngValue]="etapa.id_etapa">{{etapa.nombre}}</option>
                                
                            </select>

                                <small *ngIf="fEditarNegocio.submitted && fEditarNegocio.controls['etapaNegocio'].hasError()" class="text-danger">
                                Campo obligatorio
                            </small>

                            </div>

                            <div class="form-group">

                                <label for="recipient-name" class="col-form-label">Cantidad</label>
                                <input type="text" class="form-control" id="cantidadNegocio" name="cantidadNegocio" required [(ngModel)]="editarNegocio.cantidad" />
                                <small class="text-danger" *ngIf="fEditarNegocio.submitted && fEditarNegocio.controls['cantidadNegocio'].errors">Campo
                                        obligatorio</small>

                            </div>

                            <div class="form-group">
                                <label for="recipient-name" class="col-form-label">Fecha de cierre: {{editarNegocio.fcierre | date}}</label>
                                <input class="form-control" type="date" value="" id="cierreNegocio" name="cierreNegocio" required [(ngModel)]="editarNegocio.fcierre" />
                                <small *ngIf="fEditarNegocio.submitted && fEditarNegocio.controls['cierreNegocio'].errors " class="text-danger">
                                                    Campo obligatorio
                                                </small>
                            </div>

                            <div class="modal-footer">
                                <button type="submit" class="btn estilosBotonesHover estilosBotones">
                                        Guardar
                                    </button>

                                <button type="button" class="btn estilosBotonesHover estilosBotones" data-dismiss="modal">
                                        Cancelar
                                    </button>
                            </div>

                        </form>
                    </div>

                </div>
            </div>
        </div>
        <!--fin del formulario modal-->